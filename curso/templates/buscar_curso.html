
{% block title %}Buscar Cursos{% endblock %}

<div>
  <!-- Barra de búsqueda -->
  <form method="get">
    <input type="text" name="q" placeholder="Buscar por programa, municipio, instructor o modalidad...">
    <button type="submit" class="button-outline">Buscar</button>
  </form>

  <h2>Cursos Encontrados ({{ courses|length }})</h2>

  {% if not courses %}
    <div class="alert alert-error">No se encontraron cursos</div>
  {% else %}
    {% for course in courses %}
      <div class="course-item">
        <h3>{{ course.program }}</h3>
        <p><strong>Instructor:</strong> {{ course.instructorName }}</p>
        <p><strong>Duración:</strong> {{ course.duration }}</p>
        <p><strong>Inicio:</strong> {{ course.startDate|date:"d/m/Y" }}</p>
        <p><strong>Municipio:</strong> {{ course.municipality }}</p>
        <p><strong>Modalidad:</strong> {{ course.modality }}</p>
        <p><strong>Horario:</strong> {{ course.days|join:", " }} - {{ course.schedule }}</p>
        {% if course.description %}<p>{{ course.description }}</p>{% endif %}

        {% if course.status == "approved" %}
          <div class="alert alert-success">
            Curso aprobado. <a href="{{ course.registrationLink }}" target="_blank">Abrir Link</a>
          </div>
        {% elif course.status == "pending" %}
          <div class="alert alert-error">Pendiente de aprobación</div>
        {% else %}
          <div class="alert alert-error">Rechazado</div>
        {% endif %}
      </div>
    {% endfor %}
  {% endif %}
</div>
